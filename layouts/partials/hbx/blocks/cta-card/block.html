{{/* hbx/blocks/cta-card/block.html (compat) */}}
{{ $title := .block.content.title }}
{{ $text := .block.content.text | safeHTML }}
{{ $btn  := .block.content.button }}
{{ $align := (or .block.design.align "center") }}

{{/* Preferir el estilo del card oficial si viene */}}
{{ $cssClass := "" }}
{{ with .block.design.card.css_class }}{{ $cssClass = . }}{{ end }}

{{ $cssStyle := "" }}
{{ with .block.design.card.css_style }}{{ $cssStyle = . }}{{ end }}

{{/* Compatibilidad con dise√±o viejo: background.color / container.max_width */}}
{{ if not $cssStyle }}
  {{ $bg := "#F4A26D" }}
  {{ with .block.design.background.color }}{{ $bg = . }}{{ end }}
  {{ $cssStyle = printf "background:%s;" $bg }}
{{ end }}

{{ $maxw := "" }}
{{ with .block.design.container.max_width }}{{ $maxw = . }}{{ end }}
{{ if $maxw }}
  {{ $cssStyle = printf "%s max-width:%s;" $cssStyle $maxw }}
{{ end }}

{{ $top := "36px" }}{{ $bot := "36px" }}
{{ with .block.design.spacing.padding }}
  {{ $top = index . 0 | default "36px" }}
  {{ $bot = index . 2 | default "36px" }}
{{ end }}

<section id="{{ .block.id }}" style="padding: {{ $top }} 0 {{ $bot }} 0;">
  <div class="w-full">
    <div class="rounded-2xl p-10 text-{{ $align }} shadow-md mx-auto {{ $cssClass }}" style="{{ $cssStyle }}">
      {{ with $title }}<h2 class="text-2xl md:text-3xl font-semibold mb-2" style="color:#3F393B;">{{ . }}</h2>{{ end }}
      {{ with $text }}<p class="text-lg md:text-xl mb-5" style="color:#3F393B;">{{ . }}</p>{{ end }}
      {{ with $btn }}
        {{ if and .text .url }}<a href="{{ .url }}" class="btn btn-primary">{{ .text }}</a>{{ end }}
      {{ end }}
    </div>
  </div>
</section>
